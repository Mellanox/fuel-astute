---
# Base config
task_uuid: deployment_task
engine:
  url: http://localhost/cobbler_api
  username: cobbler
  password: cobbler
  
# Nodes
nodes:
  - name: controller-22
    hostname: controller-22.domain.tld
  
    # Data for provision
    profile: centos-x86_64
    ks_meta: 
      mco_enable: 1
      mco_vhost: mcollective
      mco_pskey: unset
      mco_user: mcollective
      puppet_enable: 0
      install_log_2_syslog: 1
      mco_password: marionette
      puppet_auto_setup: 1
      puppet_master: fuelweb.domain.tld
      mco_auto_setup: 1
      auth_key: ! '""'
      mco_connector: rabbitmq
      mco_host: 10.20.0.2
      # ks_spaces:  '"[{\"type\": \"disk\", \"id\": \"disk/by-path/pci-0000:00:0d.0-scsi-0:0:0:0\",
      # \"volumes\": [{\"mount\": \"/boot\", \"type\": \"partition\", \"size\": 209715200},
      # {\"type\": \"mbr\"}, {\"size\": 16959668224, \"type\": \"pv\", \"vg\": \"os\"}],
      # \"size\": 17179869184}, {\"type\": \"disk\", \"id\": \"disk/by-path/pci-0000:00:0d.0-scsi-1:0:0:0\",
      # \"volumes\": [{\"size\": 536860426240, \"type\": \"pv\", \"vg\": \"os\"}], \"size\":
      # 536870912000}, {\"type\": \"disk\", \"id\": \"disk/by-path/pci-0000:00:0d.0-scsi-2:0:0:0\",
      # \"volumes\": [{\"size\": 2411714314240, \"type\": \"pv\", \"vg\": \"os\"}],
      # \"size\": 2411724800000}, {\"type\": \"vg\", \"id\": \"os\", \"volumes\": [{\"mount\":
      # \"/\", \"type\": \"lv\", \"name\": \"root\", \"size\": 2963243016192}, {\"mount\":
      # \"swap\", \"type\": \"lv\", \"name\": \"swap\", \"size\": 2090065920}]}]"'
      ks_disks:
      # All size should be set in megabytes
        - type: "disk"
          id: "disk/by-path/pci-0000:00:0d.0-scsi-0:0:0:0"
          size: 16384
          volumes:
            - type: "partition"
              mount: "/boot"
              size: 200
            - type: "mbr"
            - type: "pv"
              size: 16174
              vg: os
        - type: "disk"
          id: "disk/by-path/pci-0000:00:0d.0-scsi-1:0:0:0"
          size: 2300000
          volumes:
            - type: "pv"
              size: 511990
              vg: os
        - type: "disk"
          id: "disk/by-path/pci-0000:00:0d.0-scsi-2:0:0:0"
          size: 2300000
          volumes:
            - type: "pv"
              size: 2299990
              vg: os
        - type: "vg"
          id: "os"
          size: 2300000
          volumes:
            - type: "lv"
              mount: "/"
              name: root
              size: 2825968
              vg: os
            - type: "lv"
              mount: "/swap"
              name: swap
              size: 1993
              vg: os
  
    power_type: ssh
    power_user: root
    name_servers: ! '"10.20.0.2"'
    power_pass: /root/.ssh/bootstrap.rsa
    netboot_enabled: '1'
    interfaces:
      - name: eth2
        ip_address: 10.20.0.187
        netmask: 255.255.255.0
        static: '0'
        mac_address: '08:00:27:31:09:34'
        onboot: 'no'
        peerdns: 'no'
      - name: eth1
        ip_address: 10.20.0.186
        netmask: 255.255.255.0
        static: '0'
        mac_address: 08:00:27:93:54:B0
        onboot: 'no'
        peerdns: 'no'
      - name: eth0
        ip_address: 10.20.0.63 # ip, power_address
        netmask: 255.255.255.0
        dns_name: controller-22.domain.tld # fqdn
        static: '0'
        mac_address: 08:00:27:F0:B1:7E # mac
        onboot: 'yes'
        peerdns: 'no'
        use_for_provision: true
    #End data for provision