# Base config
task_uuid: deployment_task
engine:
  url: http://localhost/cobbler_api
  username: cobbler
  password: cobbler
  
power_info: &power_info
  power_type: ssh
  power_user: root
  name_servers: ! '"10.20.0.2"'
  power_pass: /root/.ssh/bootstrap.rsa
  netboot_enabled: '1'

ks_meta: &ks_meta
  mco_enable: 1
  mco_vhost: mcollective
  mco_pskey: unset
  mco_user: mcollective
  puppet_enable: 0
  install_log_2_syslog: 1
  mco_password: marionette
  puppet_auto_setup: 1
  puppet_master: fuelweb.domain.tld
  mco_auto_setup: 1
  auth_key: ! '""'
  puppet_version: 2.7.19
  mco_connector: rabbitmq
  mco_host: 10.20.0.2

node_01: &node1
  name: controller-5
  hostname: controller-5.domain.tld
  profile: centos-x86_64
#  fqdn: &fqdn controller-5.domain.tld
#  id: &id 5
#  uid: *id
#  mac: &mac 08:00:27:E3:BC:28
#  ip: &ip 10.20.0.41
#  power_address: *ip
  <<: *power_info
  #Write size in megabytes
  ks_meta:
    <<: *ks_meta 
    ks_spaces: ! '"[{\"type\": \"disk\", \"id\": \"disk/by-path/pci-0000:00:0d.0-scsi-0:0:0:0\",
      \"volumes\": [{\"mount\": \"/boot\", \"type\": \"partition\", \"size\": 209715200},
      {\"type\": \"mbr\"}, {\"size\": 16959668224, \"type\": \"pv\", \"vg\": \"os\"}],
      \"size\": 17179869184}, {\"type\": \"disk\", \"id\": \"disk/by-path/pci-0000:00:0d.0-scsi-1:0:0:0\",
      \"volumes\": [{\"size\": 536860426240, \"type\": \"pv\", \"vg\": \"os\"}], \"size\":
      536870912000}, {\"type\": \"disk\", \"id\": \"disk/by-path/pci-0000:00:0d.0-scsi-2:0:0:0\",
      \"volumes\": [{\"size\": 2411714314240, \"type\": \"pv\", \"vg\": \"os\"}],
      \"size\": 2411724800000}, {\"type\": \"vg\", \"id\": \"os\", \"volumes\": [{\"mount\":
      \"/\", \"type\": \"lv\", \"name\": \"root\", \"size\": 2963243016192}, {\"mount\":
      \"swap\", \"type\": \"lv\", \"name\": \"swap\", \"size\": 2090065920}]}]"'
    
  interfaces:
    eth0:
      ip_address: 10.20.0.41
      netmask: 255.255.255.0
      dns_name: controller-5.domain.tld
      static: '1'
      mac_address: 08:00:27:E3:BC:28
      use_for_provision: true # ip, power_address, mac, fqdn
    eth1:
      mac_address: 08:00:27:0D:5C:B9
      use_for_provision: false # ip, power_address, mac, fqdn
    eth2:
      mac_address: 08:00:27:D3:4F:6C
  interfaces_extra:
    eth2:
      onboot: 'no'
      peerdns: 'no'
    eth1:
      onboot: 'no'
      peerdns: 'no'
    eth0:
      onboot: 'yes'
      peerdns: 'no'
  
nodes:
- <<: *node1
